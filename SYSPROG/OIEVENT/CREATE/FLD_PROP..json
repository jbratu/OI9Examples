{
    "record1": {
        "<1>": "Declare Subroutine Set_Property, End_Window\r\nEqu TRUE$  to 1\r\nEqu FALSE$ to 0\r\n\r\n$Insert Notes_Equates\r\n\r\nIf CreateParam<1> Ne \"SAVE_MSG\" Then \r\n\tnote_flag = Get_Property(CreateParam:\".TEXT_3\", \"TEXT\") \r\n\r\n\tOn note_flag GoSub FieldProp, ViewProp, FieldProp\r\n\r\n\t/* Create string of headers */\r\n\r\n\t/*srcstr = \"Field\":@vm:\"&Name:\":@vm:\"&Help Description:\":@vm:\"&Data Type:\":|\r\n\t\t\t  @fm:\"Column\":@vm:\"&Column Title:\":@vm:\"&Width:\"\r\n\t*/\t\t  \r\n\tsrcstr = \"Field,&Name:,&Help Description:,&Data Type:;Column,&Column Title:,&Width:\"\r\n\tConvert \";\" to @fm in srcstr\r\n\tConvert \",\" to @vm in srcstr\r\n\t\r\n\tCurrHead = field(srcstr, @fm, 2 - abs(2 - note_flag), 1)\r\n\r\n\tConvert @vm to @fm in CurrHead\r\n\t.->@@ \t\t = CurrHead<1>:.->@@\r\n\t.text_1->@@  = CurrHead<2>\r\n\t.text_2->@@  = CurrHead<3>\r\n\t.text_3->@@  = CurrHead<4>\r\n\r\n\t/* Create list of Notes types */\r\n\r\n\t.combo_1->list = \"Text\":@fm:\"Number\":@fm:\"TimeDate\":@fm:\"Keywords\":@fm:\"RichText\"\t\r\n\t\r\n\t/* These for the future implementation \r\n\t :@fm:\"Names\":@fm:\"Author Names\":@fm:\"Reader Names\":@fm:\"Section\" \r\n\t */\r\n\t \r\n\t.combo_1->selpos = 1 \t\t\r\n\t.->misc = CreateParam\r\nEnd Else\r\n\tGoto SaveMSG \r\nEnd\t\r\nRETURN FALSE$\r\n\r\n\r\n/* Field format */\r\nFieldProp:\r\n\t.->visible = TRUE$\r\nReturn\r\n\r\n\r\n/* Column format */\r\nViewProp:\r\n\tAllCntrls = Utility(\"OBJECTLIST\", @window, \"\")\r\n\tiCnt = count(AllCntrls, @fm) + 1\r\n\tFor i = 1 to iCnt\r\n\t\tSet_Property(AllCntrls<i>, \"VISIBLE\", FALSE$)\r\n\tNext\r\n\t.okay->visible = TRUE$\r\n\t.cncl->visible = TRUE$\r\n\t.text_1->visible = TRUE$\r\n\t.edl_1->visible  = TRUE$\r\n\twin_size = .->size\r\n\tcnt_size = .edl_1->size\r\n\twin_size<4> = cnt_size<2> + cnt_size<4>\t+ 80\r\n\t.->size = win_size\r\nReturn\t\t\t\t\r\n\r\n/*  Message string format */\r\nSaveMSG:\r\n    If CreateParam<2> = 2 Then\r\n    \tnote_type = \"View\"\r\n    End Else\r\n    \tnote_type = \"Form\"\r\n    End\t\t\r\n\t.->@@ = \"Notes Manager\"\r\n\tGoSub ViewProp\r\n\t.text_1->text = \"Save \":note_type:\" As:\"\r\nReturn FALSE$"
    }
}